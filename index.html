<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Ali Kemal Snake</title>
<style>
  body {
    background: #111;
    color: white;
    font-family: Arial;
    text-align: center;
  }
  canvas {
    background: black;
    display: block;
    margin: 10px auto;
  }
  button {
    font-size: 20px;
    padding: 10px 20px;
    margin: 5px;
  }
  .screen { display: none; }
  .active { display: block; }

  /* ğŸ“± Telefon tuÅŸlarÄ± */
  #controls {
    display: none;
    margin-top: 10px;
  }

  @media (max-width: 768px) {
    #controls {
      display: block;
    }
  }
</style>
</head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<body style="touch-action: none;">
<audio id="eatSound" src="eat.mp3"></audio>
<audio id="gameOverSound" src="gameover.mp3"></audio>

<!-- MENÃœ -->
<div id="menu" class="screen active">
  <h1>Ali Kemal yapmÄ±ÅŸtÄ±r</h1>
  <p>Bizi seÃ§tiÄŸiniz iÃ§in teÅŸekkÃ¼rler ğŸ™</p>
  <button onclick="goGame()">BaÅŸla</button>
</div>

<!-- OYUN -->
<div id="gameScreen" class="screen">
  <h2>Ali Kemal yapmÄ±ÅŸtÄ±r</h2>
  <p>Skor: <span id="score">0</span></p>
  <canvas id="game" width="400" height="400"></canvas>

  <!-- ğŸ“± Telefon tuÅŸlarÄ± -->
  <div id="controls">
    <button onclick="setDir('UP')">â¬†ï¸</button><br>
    <button onclick="setDir('LEFT')">â¬…ï¸</button>
    <button onclick="setDir('DOWN')">â¬‡ï¸</button>
    <button onclick="setDir('RIGHT')">â¡ï¸</button>
  </div>

  <br>
  <button id="restartBtn" onclick="startGame()" style="display:none;">
    Yeniden BaÅŸla
  </button>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const box = 20;

let snake, food, direction, score, game, gameOver;

function goGame() {
  document.getElementById("menu").classList.remove("active");
  document.getElementById("gameScreen").classList.add("active");
  startGame();
}

function startGame() {
  snake = [{x: 9 * box, y: 9 * box}];
  direction = "RIGHT";
  score = 0;
  gameOver = false;
  document.getElementById("score").innerText = score;
  document.getElementById("restartBtn").style.display = "none";

  food = {
    x: Math.floor(Math.random() * 19) * box,
    y: Math.floor(Math.random() * 19) * box
  };

  clearInterval(game);
  game = setInterval(draw, 150);
}

function setDir(dir) {
  direction = dir;
}

document.addEventListener("keydown", e => {
  if (e.key === "ArrowLeft" && direction !== "RIGHT") direction = "LEFT";
  if (e.key === "ArrowUp" && direction !== "DOWN") direction = "UP";
  if (e.key === "ArrowRight" && direction !== "LEFT") direction = "RIGHT";
  if (e.key === "ArrowDown" && direction !== "UP") direction = "DOWN";
});

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ctx.font = "20px Arial";
  snake.forEach(p => ctx.fillText("ğŸ", p.x, p.y + 18));
  ctx.fillText("ğŸ", food.x, food.y + 18);

  let headX = snake[0].x;
  let headY = snake[0].y;

  if (direction === "LEFT") headX -= box;
  if (direction === "UP") headY -= box;
  if (direction === "RIGHT") headX += box;
  if (direction === "DOWN") headY += box;

  if (headX === food.x && headY === food.y) {
    score++;
    document.getElementById("score").innerText = score;
    food = {
      x: Math.floor(Math.random() * 19) * box,
      y: Math.floor(Math.random() * 19) * box
    };
  } else {
    snake.pop();
  }

  const newHead = {x: headX, y: headY};

  if (
    headX < 0 || headY < 0 ||
    headX >= canvas.width || headY >= canvas.height ||
    snake.some(p => p.x === newHead.x && p.y === newHead.y)
  ) {
    clearInterval(game);
    document.getElementById("restartBtn").style.display = "inline-block";
    return;
  }

  snake.unshift(newHead);
}
</script>

</body>
</html>
